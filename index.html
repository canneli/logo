<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Felipe Canneli - Gummy Candy Art 2026</title>
    <!-- Fonte Bagel Fat One: A fonte definitiva para o estilo Gummy/Doce -->
    <link href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --color-orange: #ff6600;
            --color-yellow: #ffff00;
            --color-cyan: #00ffff;
            --color-magenta: #ff00ff;
        }
        body {
            margin: 0;
            padding: 0;
            background-color: transparent;
            overflow: hidden;
            font-family: 'Bagel Fat One', cursive;
        }
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <script>
        let scene, camera, renderer, items = [], letterMeshes = [];
        const name = "FELIPE CANNELI";
        const eyeCount = 12;
        const sparkleCount = 16;
        
        // Paleta solicitada
        const colors = [0x00ffff, 0xff00ff, 0xff6600, 0xffff00]; 
        const colorsStr = ["#00ffff", "#ff00ff", "#ff6600", "#ffff00"];

        function init() {
            scene = new THREE.Scene();
            
            // Safe Zone centralizada
            camera = new THREE.PerspectiveCamera(30, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 85; 

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); 
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0xffffff, 1.2);
            scene.add(ambientLight);

            const l1 = new THREE.PointLight(colors[0], 4, 150);
            l1.position.set(30, 20, 40);
            scene.add(l1);

            const l2 = new THREE.PointLight(colors[1], 4, 150);
            l2.position.set(-30, -20, 40);
            scene.add(l2);

            createGummyLetters();
            createDecorations();

            window.addEventListener('resize', onWindowResize, false);
            animate();
        }

        // Olho Slime Saturn (White globe + Black pupil)
        function createSlimeEyeTexture(glowColor) {
            const canvas = document.createElement('canvas');
            canvas.width = 512; canvas.height = 512;
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, 512, 512);

            // Globo Branco
            ctx.shadowBlur = 40;
            ctx.shadowColor = glowColor;
            ctx.fillStyle = '#ffffff';
            ctx.beginPath();
            ctx.arc(256, 256, 180, 0, Math.PI * 2);
            ctx.fill();
            
            // Pupila Preta
            ctx.shadowBlur = 0;
            ctx.fillStyle = '#000000';
            ctx.beginPath();
            ctx.arc(256, 256, 80, 0, Math.PI * 2);
            ctx.fill();

            // Reflexo Glossy
            ctx.fillStyle = '#ffffff';
            ctx.beginPath();
            ctx.arc(190, 190, 30, 0, Math.PI * 2);
            ctx.fill();

            return new THREE.CanvasTexture(canvas);
        }

        function createSparkleTexture(color) {
            const canvas = document.createElement('canvas');
            canvas.width = 256; canvas.height = 256;
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, 256, 256);
            const grad = ctx.createRadialGradient(128, 128, 0, 128, 128, 100);
            grad.addColorStop(0, 'white');
            grad.addColorStop(1, 'rgba(255,255,255,0)');
            ctx.fillStyle = grad;
            drawStar(ctx, 128, 128, 4, 110, 15);
            ctx.shadowBlur = 20;
            ctx.shadowColor = color;
            ctx.fill();
            return new THREE.CanvasTexture(canvas);
        }

        function drawStar(ctx, cx, cy, spikes, r0, r1) {
            let rot = Math.PI / 2 * 3;
            let step = Math.PI / spikes;
            ctx.beginPath(); ctx.moveTo(cx, cy - r0);
            for (let i = 0; i < spikes; i++) {
                ctx.lineTo(cx + Math.cos(rot) * r0, cy + Math.sin(rot) * r0);
                rot += step;
                ctx.lineTo(cx + Math.cos(rot) * r1, cy + Math.sin(rot) * r1);
                rot += step;
            }
            ctx.closePath();
        }

        function createGummyLetters() {
            const fontSize = 320; 
            name.split('').forEach((char, i) => {
                if (char === ' ') return;
                const canvas = document.createElement('canvas');
                canvas.width = 512; canvas.height = 512;
                const ctx = canvas.getContext('2d');
                
                ctx.font = `normal ${fontSize}px "Bagel Fat One"`;
                ctx.textAlign = 'center'; ctx.textBaseline = 'middle';

                const colorIdx = i % colors.length;
                const accentColorStr = colorsStr[colorIdx];
                const accentColorHex = colors[colorIdx];

                // Efeito Gummy Jelly (Gradiente Suave)
                const grad = ctx.createLinearGradient(0, 140, 0, 360);
                grad.addColorStop(0, '#ffffff'); 
                grad.addColorStop(0.3, accentColorStr);
                grad.addColorStop(0.7, accentColorStr);
                grad.addColorStop(1, '#000000');

                // Glow Neon
                ctx.shadowBlur = 80; ctx.shadowColor = accentColorStr;
                ctx.fillStyle = grad;
                ctx.fillText(char, 256, 256);

                // Reflexo de Luz "Liquid Candy" (O brilho gordinho)
                ctx.shadowBlur = 0;
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 15;
                ctx.lineCap = 'round';
                ctx.globalAlpha = 0.4;
                ctx.beginPath();
                ctx.arc(256, 256, 120, -Math.PI * 0.8, -Math.PI * 0.2);
                ctx.stroke();

                ctx.globalAlpha = 0.8;
                ctx.lineWidth = 8;
                ctx.strokeText(char, 256, 256);

                const texture = new THREE.CanvasTexture(canvas);
                const material = new THREE.MeshStandardMaterial({ 
                    map: texture, 
                    transparent: true, 
                    metalness: 0.8, 
                    roughness: 0.1,
                    emissive: accentColorHex,
                    emissiveIntensity: 0.6 
                });

                const geometry = new THREE.PlaneGeometry(11, 11); 
                const mesh = new THREE.Mesh(geometry, material);
                
                // Letras "grudadas" estilo gummy
                mesh.position.x = (i - name.length / 2) * 2.35; 
                mesh.userData = { 
                    originalX: mesh.position.x, 
                    phase: i * 0.5, 
                    speed: 0.7 + Math.random() * 0.3 
                };
                letterMeshes.push(mesh);
                scene.add(mesh);
            });
        }

        function createDecorations() {
            const sparkleTexs = colorsStr.map(c => createSparkleTexture(c));
            const eyeTex = createSlimeEyeTexture("#fff");

            for (let i = 0; i < eyeCount; i++) {
                const material = new THREE.SpriteMaterial({ map: eyeTex, transparent: true });
                const sprite = new THREE.Sprite(material);
                sprite.scale.set(4, 4, 1);
                sprite.userData = {
                    type: 'eye',
                    angle: (i / eyeCount) * Math.PI * 2,
                    radiusX: 14 + Math.random() * 3, 
                    radiusY: 7 + Math.random() * 2,
                    depth: 16, 
                    speed: 0.008 + Math.random() * 0.004,
                    yOffset: (Math.random() - 0.5) * 4
                };
                items.push(sprite);
                scene.add(sprite);
            }

            for (let i = 0; i < sparkleCount; i++) {
                const material = new THREE.SpriteMaterial({ 
                    map: sparkleTexs[i % colors.length], 
                    transparent: true, 
                    blending: THREE.AdditiveBlending 
                });
                const sprite = new THREE.Sprite(material);
                sprite.scale.set(1.5, 1.5, 1);
                sprite.userData = {
                    type: 'sparkle',
                    angle: Math.random() * Math.PI * 2,
                    radiusX: 10 + Math.random() * 8, 
                    radiusY: 5 + Math.random() * 5,
                    depth: 12, 
                    speed: 0.02 + Math.random() * 0.015
                };
                items.push(sprite);
                scene.add(sprite);
            }
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            const time = Date.now() * 0.001;

            letterMeshes.forEach((mesh, i) => {
                const d = mesh.userData;
                mesh.position.y = Math.sin(time * d.speed + d.phase) * 0.6;
                // Efeito "Squishy" (Pulsação Gummy)
                const s = 1 + Math.sin(time * 2.5 + d.phase) * 0.05;
                const squash = 1 + Math.cos(time * 2.5 + d.phase) * 0.02;
                mesh.scale.set(s, s * squash, 1);
                
                mesh.rotation.z = Math.sin(time * 0.5 + d.phase) * 0.03;
                mesh.material.emissiveIntensity = 0.5 + Math.sin(time * 3 + d.phase) * 0.4;
            });

            items.forEach((item, i) => {
                const d = item.userData;
                d.angle += d.speed;
                item.position.x = Math.cos(d.angle) * d.radiusX;
                item.position.y = Math.sin(d.angle * 1.4) * d.radiusY + (d.yOffset || 0);
                item.position.z = Math.sin(d.angle) * d.depth;

                if (d.type === 'sparkle') {
                    const s = (1.2 + Math.sin(time * 12 + i) * 0.6);
                    item.scale.set(s, s, 1);
                    item.material.opacity = 0.5 + Math.sin(time * 8 + i) * 0.5;
                } else {
                    const s = 4 + Math.sin(time * 4 + i) * 0.2;
                    item.scale.set(s, s, 1);
                }
            });

            camera.lookAt(0, 0, 0);
            renderer.render(scene, camera);
        }

        window.onload = init;
    </script>
</body>
</html>
